(function(e){function t(t){for(var n,i,l=t[0],c=t[1],s=t[2],u=0,v=[];u<l.length;u++)i=l[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&v.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(v.length)v.shift()();return o.push.apply(o,s||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,l=1;l<a.length;l++){var c=a[l];0!==r[c]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},o=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/showslot/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var d=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",{staticStyle:{"margin-top":"15px"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{md:"3"}},[a("WeekPicker",{model:{value:e.rangeStart,callback:function(t){e.rangeStart=t},expression:"rangeStart"}})],1),a("v-spacer",{attrs:{md:"3"}}),a("v-col",{attrs:{md:"1"}},[a("DataEditor",{model:{value:e.events,callback:function(t){e.events=t},expression:"events"}})],1),a("v-spacer",{attrs:{md:"2"}}),a("v-col",{attrs:{md:"3"}},[a("WeekNavigation",{model:{value:e.rangeStart,callback:function(t){e.rangeStart=t},expression:"rangeStart"}})],1)],1),a("WeekCalendar",{attrs:{"day-start":e.rangeStart,events:e.events}})],1)],1)],1)},o=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-calendar",{attrs:{color:"primary",type:"week",start:e.formatDate(e.dayStart,"yyyy-MM-dd"),"short-months":!0,weekdays:e.weekdaysOrder,events:e.events}})},l=[],c=a("b166"),s={name:"WeekCalendar",props:["dayStart","events"],computed:{weekdaysOrder:{get:function(){for(var e=[],t=this.dayStart.getDay(),a=0;a<7;a++)e.push((t+a)%7);return e}}},methods:{formatDate:function(e,t){return Object(c["a"])(e,t)}}},d=s,u=a("2877"),v=a("6544"),p=a.n(v),f=a("a4f6"),g=Object(u["a"])(d,i,l,!1,null,null,null),y=g.exports;p()(g,{VCalendar:f["a"]});var m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-btn",{staticStyle:{"margin-end":"15px"},on:{click:function(t){return e.addDays(-7)}}},[a("v-icon",[e._v("mdi-chevron-double-left")])],1),a("v-btn",{staticStyle:{"margin-end":"15px"},on:{click:function(t){return e.addDays(-1)}}},[a("v-icon",[e._v("mdi-arrow-left")])],1),a("v-btn",{staticStyle:{"margin-end":"15px"},on:{click:e.setToday}},[e._v(" Today ")]),a("v-btn",{staticStyle:{"margin-end":"15px"},on:{click:function(t){return e.addDays(1)}}},[a("v-icon",[e._v("mdi-arrow-right")])],1),a("v-btn",{on:{click:function(t){return e.addDays(7)}}},[a("v-icon",[e._v("mdi-chevron-double-right")])],1)],1)],1)},b=[],h=a("2230"),k={name:"WeekNavigation",props:["value"],methods:{addDays:function(e){this.$emit("input",Object(h["a"])(this.value,{days:e}))},setToday:function(){this.$emit("input",new Date)}}},w=k,x=a("8336"),_=a("a523"),O=a("132d"),R=a("0fd9"),S=Object(u["a"])(w,m,b,!1,null,null,null),D=S.exports;p()(S,{VBtn:x["a"],VContainer:_["a"],VIcon:O["a"],VRow:R["a"]});var V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Date range to show","prepend-inner-icon":"mdi-calendar",readonly:""},model:{value:e.formattedRange,callback:function(t){e.formattedRange=t},expression:"formattedRange"}},"v-text-field",r,!1),n))]}}]),model:{value:e.datepickerOpened,callback:function(t){e.datepickerOpened=t},expression:"datepickerOpened"}},[a("v-date-picker",{attrs:{"first-day-of-week":"1",range:""},on:{input:function(t){e.datepickerOpened=!1}},model:{value:e.computeWeekRange,callback:function(t){e.computeWeekRange=t},expression:"computeWeekRange"}})],1)},j=[],C=a("3835"),E={name:"WeekPicker",props:["value"],data:function(){return{datepickerOpened:!1}},computed:{formattedRange:{get:function(){return Object(c["a"])(this.rangeStart,"yyyy-MM-dd")+" - "+Object(c["a"])(Object(h["a"])(this.rangeStart,{days:6}),"yyyy-MM-dd")}},computeWeekRange:{get:function(){return[Object(c["a"])(this.rangeStart,"yyyy-MM-dd"),Object(c["a"])(Object(h["a"])(this.rangeStart,{days:6}),"yyyy-MM-dd")]},set:function(e){var t=Object(C["a"])(e,1),a=t[0];this.rangeStart=new Date(a)}},rangeStart:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},M=E,q=a("2e4b"),$=a("e449"),I=a("8654"),T=Object(u["a"])(M,V,j,!1,null,null,null),W=T.exports;p()(T,{VDatePicker:q["a"],VMenu:$["a"],VTextField:I["a"]});var P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"800"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({},"v-btn",r,!1),n),[e._v(" Edit data ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[e._v(" Edit data ")]),a("v-card-text",[a("v-container",[a("v-row",[a("RequestReader",{model:{value:e.requestEvents,callback:function(t){e.requestEvents=t},expression:"requestEvents"}})],1),a("DateRanges",{model:{value:e.customDateRanges,callback:function(t){e.customDateRanges=t},expression:"customDateRanges"}})],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.updateData}},[e._v(" Done ")])],1)],1)],1)],1)},A=[],X=(a("99af"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"full-width":""}},[a("v-row",{staticStyle:{"margin-bottom":"-15px"}},[a("v-spacer",{attrs:{md:"4"}}),a("v-col",{attrs:{md:"8"}},[a("v-btn",{on:{click:e.clear}},[e._v(" Clear ")]),a("v-btn",{staticStyle:{"margin-start":"10px"},on:{click:e.addRange}},[e._v(" Add range ")])],1)],1),e._l(e.ranges,(function(t,n){return[a("v-row",{key:n,staticStyle:{"margin-top":"30px"}},[a("v-col",{attrs:{md:"12"}},[a("v-card",[a("v-card-text",[a("v-text-field",{attrs:{label:"Range data",error:t.dataInvalid},model:{value:t.data,callback:function(a){e.$set(t,"data",a)},expression:"rng.data"}}),a("v-text-field",{attrs:{label:"Range color",error:t.colorInvalid},model:{value:t.color,callback:function(a){e.$set(t,"color",a)},expression:"rng.color"}}),a("v-text-field",{attrs:{label:"Range title",error:t.titleInvalid},model:{value:t.title,callback:function(a){e.$set(t,"title",a)},expression:"rng.title"}}),a("v-btn",{on:{click:function(t){return e.deleteRange(n)}}},[e._v("Delete range")])],1)],1)],1)],1)]}))],2)}),N=[],J=(a("d3b7"),a("25f0"),a("a434"),a("159b"),{props:{value:{required:!0}},data:function(){return{ranges:[]}},methods:{addRange:function(){this.ranges.push({data:"",color:"",title:""})},clear:function(){this.ranges=[]},pickRandomColor:function(){return"#"+Math.floor(16777215*Math.random()).toString(16)},deleteRange:function(e){this.ranges.splice(e,1)}},watch:{ranges:{deep:!0,handler:function(e){var t=this;console.log("Triggered update ranges");var a=[];e.forEach((function(e){if(e.titleInvalid=!1,e.dataInvalid=!1,""==e.title&&(e.titleInvalid=!0),""==e.data&&(e.dataInvalid=!0),""==e.color&&(e.color=t.pickRandomColor()),!e.dataInvalid&&!e.titleInvalid)try{var n=JSON.parse(e.data,(function(e,t){switch(e){case"start":case"end":return new Date(t);default:return t}}));n.forEach((function(t,n){a.push({name:e.title+" #"+n,color:e.color,timed:!0,category:e.title+"-range",start:t.start,end:t.end})}))}catch(r){return console.log(r),void(e.dataInvalid=!0)}})),this.$emit("input",a)}}}}),B=J,F=a("b0af"),z=a("99d9"),G=a("62ad"),H=a("2fa4"),K=Object(u["a"])(B,X,N,!1,null,null,null),L=K.exports;p()(K,{VBtn:x["a"],VCard:F["a"],VCardText:z["b"],VCol:G["a"],VContainer:_["a"],VRow:R["a"],VSpacer:H["a"],VTextField:I["a"]});var Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-text-field",{attrs:{label:"Request data",error:e.requestInvalid},model:{value:e.rawRequest,callback:function(t){e.rawRequest=t},expression:"rawRequest"}})],1)],1)},U=[],Y=a("feb8"),Z={name:"RequestReader",props:{value:{required:!0},periodColor:{type:String,default:"blue"},workingDayColor:{type:String,default:"orange"},userAvailabilityColors:{default:function(){return["indigo","deep-purple","cyan","darkCyan","grey darken-1"]}}},data:function(){return{rawRequest:"",requestInvalid:!1}},watch:{rawRequest:function(e){var t=this;this.requestInvalid=!1;var a=[];try{var n=JSON.parse(e,(function(e,t){switch(e){case"period_start":case"start":case"end":case"period_end":return new Date(t);default:return t}}));a.push({name:"Search period",color:this.periodColor,timed:!0,category:"period",start:n.period_start,end:n.period_end}),Object(Y["a"])({start:n.period_start,end:n.period_end}).forEach((function(e){a.push({name:"Working day",color:t.workingDayColor,timed:!0,category:"working-day",start:new Date(Object(c["a"])(e,"yyyy-MM-dd")+"T"+n.day_start+Object(c["a"])(e,"XXX")),end:new Date(Object(c["a"])(e,"yyyy-MM-dd")+"T"+n.day_end+Object(c["a"])(e,"XXX"))})})),n.users.forEach((function(e){void 0!==e.availability&&null!==e.availability&&e.availability.forEach((function(n,r){a.push({name:e.email+" #"+r+" available slot",color:t.userAvailabilityColors[r%t.userAvailabilityColors.length],timed:!0,category:e.email+"-availability",start:n.start,end:n.end})}))}))}catch(r){return this.requestInvalid=!0,void console.log(r)}this.$emit("input",a)}}},ee=Z,te=Object(u["a"])(ee,Q,U,!1,null,null,null),ae=te.exports;p()(te,{VContainer:_["a"],VRow:R["a"],VTextField:I["a"]});var ne={name:"DateEditor",params:{value:{required:!0}},components:{DateRanges:L,RequestReader:ae},data:function(){return{dialog:!1,requestEvents:[],customDateRanges:[]}},methods:{updateData:function(){this.dialog=!1;var e=[].concat(this.requestEvents).concat(this.customDateRanges);this.$emit("input",e)}}},re=ne,oe=a("169a"),ie=a("ce7e"),le=Object(u["a"])(re,P,A,!1,null,null,null),ce=le.exports;p()(le,{VBtn:x["a"],VCard:F["a"],VCardActions:z["a"],VCardText:z["b"],VCardTitle:z["c"],VContainer:_["a"],VDialog:oe["a"],VDivider:ie["a"],VRow:R["a"],VSpacer:H["a"]});var se={name:"App",components:{WeekCalendar:y,WeekNavigation:D,WeekPicker:W,DataEditor:ce},data:function(){return{rangeStart:new Date,events:[]}}},de=se,ue=a("7496"),ve=a("f6c4"),pe=Object(u["a"])(de,r,o,!1,null,null,null),fe=pe.exports;p()(pe,{VApp:ue["a"],VCol:G["a"],VContainer:_["a"],VMain:ve["a"],VRow:R["a"],VSpacer:H["a"]});a("1f54");var ge=a("f309");n["a"].use(ge["a"]);var ye=new ge["a"]({});n["a"].config.productionTip=!1,new n["a"]({vuetify:ye,render:function(e){return e(fe)}}).$mount("#app")}});
//# sourceMappingURL=app.7da433ad.js.map